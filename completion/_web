#compdef web
#autoload

_web()
{
    #options
    _arguments \
        '(--complete)--complete[bookmark completion]' \
        '*:: :->command' && return 0

    #get bookmarks
    local -a search sites bookmarks

    #grab all CLI args, remove 'web' from start
    search=`echo $words[@] | sed -e '/^web /d'`
    sites=`web --complete $search`
    bookmarks=("${(f)${sites}}")

    #show bookmarks
    _describe -t bookmarks "chrome bookmarks" bookmarks
}

_web
