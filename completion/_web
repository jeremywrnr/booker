#compdef web
#autoload

#options
_arguments \
  '(--complete)--complete[bookmark completion]' \
  '*:: :->subcmds' && return 0

#bookmarks
local -a search bookmarks searching

# grab all command line args, remove 'web' from the beginning
search=`echo $words[@] | sed -e '/^web /d'`
sites=`web --complete $search`
bookmarks=("${(f)${sites}}")

_describe -t bookmarks "chrome bookmarks" bookmarks
