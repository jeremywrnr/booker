#compdef web
#autoload


_bookmarks()
{
}

_web()
{
    #options
    _arguments \
        '(-c)--complete[bookmark completion]' \
        '(-s)--search[search google for...]' \
        '*:: :->bookmarks'\
        && return 0

    #get bookmarks
    local -a search sites bookmarks

    #grab all CLI args, remove 'web' from start
    search=`echo $words[@] | sed -e '/^web /d'`
    sites=`web --complete $search`
    bookmarks=("${(f)${sites}}")

    #show bookmarks
    _alternative "bookmarks:chrome bookmarks:($bookmarks)"
}


_web
